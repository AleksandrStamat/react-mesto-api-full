{"version":3,"sources":["contexts/CurrentUserContext.js","utils/utils.js","utils/api.js","images/header/logo.svg","images/header/burger-icon.svg","images/header/close-icon.svg","components/NavBar.js","components/Header.js","images/card/trash.svg","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Preloader.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/status/ok.png","images/status/problem.png","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","baseUrl","api","this","_url","res","ok","json","Promise","reject","status","token","fetch","headers","authorization","then","_erorrCheck","all","getProfile","getInitialCards","data","method","body","JSON","stringify","name","link","id","NavBar","props","currentUser","useContext","className","exact","path","email","to","onClick","loggedOut","Header","useState","burgerOpen","setBurgerOpen","handleBurgerChange","e","src","logo","alt","close","burger","Card","card","onCardClick","onCardLike","onCardDelete","likes","isOwn","owner","_id","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","type","trash","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","aria-label","map","Footer","ImagePopup","onClose","image","isImageOpen","target","currentTarget","PopupWithForm","isOpen","title","children","buttonSubmit","onSubmit","EditProfilePopup","onUpdateUser","isLoading","setName","hobby","setHobby","useEffect","preventDefault","value","placeholder","minLength","maxLength","onChange","required","EditAvatarPopup","onUpdateAvatar","useRef","current","ref","AddPlacePopup","setLink","ConfirmPopup","onConfirmDelete","evt","Preloader","withRouter","password","setPassword","setEmail","handleSubmit","handleLogin","event","handleRegister","InfoTooltip","ProtectedRoute","Component","component","loggedIn","errorCheck","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","setStatus","setLoggedIn","cardDelete","setCardDelete","isSiteLoading","setSiteLoading","setLoading","setCurrentUser","setCards","selectedCard","setSelectedCard","getUserInfo","getAllNeededData","user","items","push","catch","err","console","log","finally","setTimeout","closeAllPopups","jwt","localStorage","getItem","Provider","onKeyUp","key","removeItem","Accept","auth","setItem","error","toggleLike","newCard","newCards","c","changeProfile","addCard","deleteCard","filter","changeAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.64a3cc9f.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import Api from './api';\n\nexport const baseUrl = 'https://api.mesto.stamat.nomoredomains.icu';\nexport const api = new Api({ baseUrl });\n","export default class Api {\n  constructor({ baseUrl }) {\n    this._url = baseUrl;\n  }\n\n  _erorrCheck(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this._url}/cards`, {\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n    }).then(this._erorrCheck);\n  }\n\n  getProfile(token) {\n    return fetch(`${this._url}/users/me`, {\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n    }).then(this._erorrCheck);\n  }\n\n  getAllNeededData(token) {\n    return Promise.all([this.getProfile(token), this.getInitialCards(token)]);\n  }\n\n  changeProfile(data, token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }).then(this._erorrCheck);\n  }\n\n  changeAvatar(data, token) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }).then(this._erorrCheck);\n  }\n\n  addCard({ name, link }, token) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(this._erorrCheck);\n  }\n\n  deleteCard(id, token) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n    }).then(this._erorrCheck);\n  }\n\n  toggleLike(id, status, token) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: status ? 'DELETE' : 'PUT',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n    }).then(this._erorrCheck);\n  }\n}\n","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","export default __webpack_public_path__ + \"static/media/burger-icon.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/close-icon.118074ba.svg\";","import React, { useContext } from 'react';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction NavBar(props) {\n  const currentUser = useContext(CurrentUserContext);\n  return (\n    <div className='header__bar-container'>\n      <Switch>\n        <Route exact path='/'>\n          <div className='header__container'>\n            <p className='header__email'>{currentUser.email || ''}</p>\n            <Link\n              to='/signin'\n              className='header__link'\n              onClick={props.loggedOut}\n            >\n              Выйти\n            </Link>\n          </div>\n        </Route>\n        <Route path='/signin'>\n          <Link to='/signup' className='header__link'>\n            Регистрация\n          </Link>\n        </Route>\n\n        <Route path='/signup'>\n          <Link to='/signin' className='header__link'>\n            Войти\n          </Link>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default NavBar;\n","import React from 'react';\nimport logo from '../images/header/logo.svg';\nimport burger from '../images/header/burger-icon.svg';\nimport close from '../images/header/close-icon.svg';\nimport NavBar from './NavBar';\n\nfunction Header(props) {\n  const [burgerOpen, setBurgerOpen] = React.useState(false);\n\n  function handleBurgerChange(e) {\n    setBurgerOpen(!burgerOpen);\n  }\n\n  return (\n    <header className='header'>\n      {burgerOpen && (\n        <div className='header__bar-for-small'>\n          <NavBar loggedOut={props.loggedOut} email={props.email} />\n        </div>\n      )}\n      <div className='header__wrapper'>\n        <img className='header__logo' src={logo} alt='Место-логотип' />\n        <div className='header__burger'>\n          {burgerOpen ? (\n            <img\n              className='header__burger-close'\n              src={close}\n              alt='закрыть'\n              onClick={handleBurgerChange}\n            />\n          ) : (\n            <img\n              className='header__burger-icon'\n              src={burger}\n              alt='бургер'\n              onClick={handleBurgerChange}\n            />\n          )}\n        </div>\n        <div className='header__bar-for-big'>\n          <NavBar loggedOut={props.loggedOut} />\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/trash.a274c87c.svg\";","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport trash from '../images/card/trash.svg';\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const {\n    card, onCardClick, onCardLike, onCardDelete,\n  } = props;\n  const { name, link, likes } = card;\n  const isOwn = card.owner === currentUser._id;\n  const status = card.likes.some((i) => i === currentUser._id);\n\n  const cardLikeButtonClassName = `element__like button ${\n    status && 'element__like_active'\n  }`;\n\n  const cardDeleteButtonClassName = `element__trash ${\n    isOwn ? 'element__trash' : 'element__trash_display'\n  }`;\n\n  function handleCardClick() {\n    onCardClick(card);\n  }\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <article className='element'>\n      <div>\n        <button\n          type='button'\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        >\n          <img src={trash} alt='trash' />\n        </button>\n        <img\n          className='element__foto'\n          src={link}\n          alt={name}\n          onClick={handleCardClick}\n        />\n      </div>\n      <div className='element__position'>\n        <h2 className='element__text'>{name}</h2>\n        <div className='element__like-content'>\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n            type='button'\n            id='like'\n          ></button>\n          <p className='element__like-count'>{likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const {\n    onEditAvatar,\n    onEditProfile,\n    onAddPlace,\n    cards,\n    onCardClick,\n    onCardLike,\n    onCardDelete,\n  } = props;\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className='profile'>\n        <div className='profile__info'>\n          <button onClick={onEditAvatar} className='profile__edit-avatar'>\n            <img\n              src={currentUser.avatar}\n              alt='Жак-Ив Кусто'\n              className='profile__avatar'\n            />\n          </button>\n          <div className='profile__text'>\n            <div>\n              <h1 className='profile__name'>{currentUser.name}</h1>\n              <p className='profile__hobby'>{currentUser.about}</p>\n            </div>\n            <button\n              type='button'\n              className='profile__edit'\n              aria-label='Редактировать'\n              onClick={onEditProfile}\n            ></button>\n          </div>\n        </div>\n        <button\n          type='button'\n          className='profile__add-button'\n          aria-label='Добавить'\n          onClick={onAddPlace}\n        >\n          +\n        </button>\n      </section>\n      <section className='elements' id='elements'>\n        {cards\n          && cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardDelete={onCardDelete}\n              onCardLike={onCardLike}\n            />\n          ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className='footer'>\n      <span className='footer__copyright'>&copy;&nbsp;2020 Mesto Russia</span>\n    </footer>\n  );\n}\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const { onClose, image } = props;\n\n  const { isImageOpen, link, name } = image;\n\n  return (\n    <div\n      className={`popup popup-image ${isImageOpen && 'popup_opened'}`}\n      onClick={(e) => {\n        if (e.target === e.currentTarget) {\n          onClose();\n        }\n      }}\n    >\n      <div className='popup-image__container'>\n        <img src={link} className='popup-image__element' alt={name} />\n        <h2 className='popup-image__text'>{name}</h2>\n        <button\n          onClick={onClose}\n          type='button'\n          id='popup-image-close'\n          className='popup__button-close'\n          aria-label='Закрыть Окно'\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const {\n    name,\n    isOpen,\n    onClose,\n    title,\n    children,\n    buttonSubmit,\n    onSubmit,\n  } = props;\n\n  return (\n    <div\n      className={`popup ${name} ${isOpen ? 'popup_opened' : ''}`}\n      onClick={(e) => {\n        if (e.target === e.currentTarget) {\n          onClose();\n        }\n      }}\n    >\n      <div className={`popup__container popup__container_${name}`}>\n        <form className='popup__form' name={name} onSubmit={onSubmit}>\n          <button\n            type='button'\n            onClick={onClose}\n            className='popup__button-close'\n          ></button>\n          <h2 className='popup__title'> {title} </h2>\n          {children}\n          <button\n            className='popup__button-save'\n            type='submit'\n            aria-label={buttonSubmit}\n          >\n            {buttonSubmit}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useContext, useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const {\n    isOpen, onClose, onUpdateUser, isLoading,\n  } = props;\n  const [name, setName] = useState('');\n  const [hobby, setHobby] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleHobbyChange(e) {\n    setHobby(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: hobby,\n    });\n  }\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setHobby(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name='popup-profile'\n      title='Редактировать профиль'\n      buttonSubmit={isLoading ? 'Загрузка...' : 'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        value={name || ''}\n        name='name'\n        type='text'\n        id='name'\n        className='popup__input popup__input_name'\n        placeholder='Введите имя'\n        minLength='2'\n        maxLength='40'\n        onChange={handleNameChange}\n        required\n      />\n      <span id='name-error' className='popup__span'></span>\n      <input\n        value={hobby || ''}\n        name='about'\n        type='text'\n        id='hobby'\n        className='popup__input popup__input_hobby'\n        placeholder='Ваше хобби'\n        minLength='2'\n        maxLength='200'\n        onChange={handleHobbyChange}\n        required\n      />\n      <span id='hobby-error' className='popup__span'></span>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const {\n    isOpen, onClose, onUpdateAvatar, isLoading,\n  } = props;\n  const avatar = useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatar.current.value,\n    });\n  }\n  return (\n    <PopupWithForm\n      name='popup_avatar'\n      title='Обновить аватар'\n      buttonSubmit={isLoading ? 'Загрузка...' : 'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={avatar}\n        type='url'\n        className='popup__input popup__input_avatar'\n        placeholder='Ссылка на картинку'\n        required\n      />\n      <span id='avatar-error' className='popup__span'></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const {\n    isOpen, onClose, onAddPlace, isLoading,\n  } = props;\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name,\n      link,\n    });\n    setName('');\n    setLink('');\n  }\n  return (\n    <PopupWithForm\n      name='popup-item'\n      title='Новое место'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonSubmit={isLoading ? 'Загрузка...' : 'Создать'}\n    >\n      <input\n        name='name'\n        type='text'\n        id='place'\n        className='popup__input popup__input_link'\n        placeholder='Название'\n        minLength='1'\n        maxLength='30'\n        onChange={handleNameChange}\n        value={name}\n        required\n      />\n      <span id='place-error' className='popup__span'></span>\n      <input\n        name='link'\n        type='url'\n        id='link'\n        className='popup__input'\n        placeholder='Ссылка на картинку'\n        onChange={handleLinkChange}\n        value={link}\n        required\n      />\n      <span id='link-error' className='popup__span'></span>\n    </PopupWithForm>\n  );\n}\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n  const {\n    isOpen, onClose, onConfirmDelete, isLoading,\n  } = props;\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onConfirmDelete();\n  }\n  return (\n    <PopupWithForm\n      name='popup_confirm'\n      title='Вы уверены?'\n      buttonSubmit={isLoading ? 'Удаление...' : 'Да'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    ></PopupWithForm>\n  );\n}\nexport default ConfirmPopup;\n","import React from 'react';\n\nfunction Preloader(props) {\n  return (\n    <div className='preloader__position'>\n      <div className='preloader'></div>\n    </div>\n  );\n}\nexport default Preloader;\n","import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nfunction Login(props) {\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!email || !password) {\n      return;\n    }\n    props.handleLogin(email, password);\n  }\n  return (\n    <div className='login'>\n      <p className='login__heading'>Вход</p>\n      <form className='login__form' onSubmit={handleSubmit}>\n        <input\n          className='login__input'\n          id='email'\n          name='email'\n          type='email'\n          required\n          value={email}\n          onChange={(event) => setEmail(event.target.value)}\n          placeholder='Email'\n        />\n        <input\n          className='login__input'\n          id='password'\n          name='password'\n          type='password'\n          required\n          value={password}\n          onChange={(event) => setPassword(event.target.value)}\n          placeholder='Пароль'\n        />\n        <button\n          className='login__submit-button'\n          type='submit'\n          onSubmit={handleSubmit}\n        >\n          Войти\n        </button>\n      </form>\n      <Link className='login__link' to='/signup'>\n        Ещё не зарегистрированы? Регистрация\n      </Link>\n    </div>\n  );\n}\n\nexport default withRouter(Login);\n","import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nfunction Register(props) {\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleRegister(email, password);\n    setPassword('');\n    setEmail('');\n  }\n\n  return (\n    <div className='register'>\n      <p className='register__heading'>Регистрация</p>\n      <form className='register__form' onSubmit={handleSubmit}>\n        <input\n          className='register__input'\n          id='email'\n          name='email'\n          type='email'\n          required\n          value={email}\n          onChange={(event) => setEmail(event.target.value)}\n          placeholder='Email'\n        />\n        <input\n          className='register__input'\n          id='password'\n          name='password'\n          type='password'\n          required\n          value={password}\n          onChange={(event) => setPassword(event.target.value)}\n          placeholder='Пароль'\n        />\n        <button\n          className='register__submit-button'\n          type='submit'\n          onSubmit={handleSubmit}\n        >\n          Зарегистрироваться\n        </button>\n      </form>\n      <Link className='register__link' to='/signin'>\n        Уже зарегистрированы? Войти\n      </Link>\n    </div>\n  );\n}\n\nexport default withRouter(Register);\n","import React from 'react';\nimport succes from '../images/status/ok.png';\nimport error from '../images/status/problem.png';\n\nfunction InfoTooltip(props) {\n  const { onClose } = props;\n  return (\n    <div\n      className={`popup popup-status ${props.isOpen ? 'popup_opened' : ' '}`}\n      id='info-tooltip'\n    >\n      <div className='popup-status__container'>\n        <img\n          className='popup-status__image'\n          src={props.status ? succes : error}\n          alt={props.status ? 'Успешно' : 'Ошибка'}\n        />\n        <h2 className='popup-status__title'>\n          {props.status\n            ? 'Вы успешно зарегистрировались!'\n            : `Что-то пошло не так!\n          Попробуйте ещё раз.`}\n        </h2>\n        <button\n          onClick={onClose}\n          type='button'\n          id='popup-image-close'\n          className='popup__button-close'\n          aria-label='Закрыть Окно'\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n    <Route>\n      {() => (props.loggedIn ? <Component {...props} /> : <Redirect to='./signin' />)\n      }\n    </Route>\n);\n\nexport default ProtectedRoute;\n","import { baseUrl } from './utils';\n\nfunction errorCheck(res) {\n  if (res.ok) {\n    return res.json();\n  } return Promise.reject(`Что-то пошло не так: ${res.status}`);\n}\n\nexport const register = (email, password) => fetch(`${baseUrl}/signup`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({\n    email,\n    password,\n    name: 'User name',\n    about: 'User about',\n    avatar: 'https://i.gifer.com/GHD2.gif',\n  }),\n}).then(errorCheck);\n\nexport const authorization = (email, password) => fetch(`${baseUrl}/signin`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n}).then(errorCheck);\n\nexport const checkToken = (token) => fetch(`${baseUrl}/users/me`, {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    authorization: `Bearer ${token}`,\n  },\n}).then(errorCheck);\n","import React, { useState, useEffect } from 'react';\nimport { Route, Switch, useHistory, withRouter } from 'react-router-dom';\nimport '../index.css';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { api } from '../utils/utils';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport Preloader from './Preloader';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport * as auth from '../utils/auth.js';\n\nfunction App() {\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n  const [status, setStatus] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [cardDelete, setCardDelete] = useState({});\n  const [isSiteLoading, setSiteLoading] = useState(true);\n  const [isLoading, setLoading] = useState();\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({\n    isImageOpen: false,\n    link: '',\n    name: '',\n  });\n  // Проверить токен\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then(({ email }) => {\n          if (email) {\n            getUserInfo(jwt);\n          }\n        })\n        .catch((err) => console.log(err));\n    } else {\n      setSiteLoading(false);\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  function getUserInfo(token) {\n    api\n      .getAllNeededData(token)\n      .then(([user, items]) => {\n        setCards(items);\n        setCurrentUser(user);\n        setLoggedIn(true);\n        history.push('/');\n      })\n      .catch((err) => console.log(`Ошибка при загрузке данных: ${err}`))\n      .finally(() => setTimeout(() => setSiteLoading(false), 1000));\n  }\n  // Обновление данных профиля\n  function handleUpdateUser(data) {\n    const token = localStorage.getItem('jwt');\n    setLoading(true);\n    api\n      .changeProfile(data, token)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n        setLoading(false);\n      })\n      .catch((err) => console.log(`Ошибка при обновлении данных: ${err}`));\n  }\n\n  // Обновление аватара\n  function handleUpdateAvatar(data) {\n    const token = localStorage.getItem('jwt');\n    setLoading(true);\n    api\n      .changeAvatar(data, token)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n        setTimeout(() => setLoading(false), 200);\n      })\n      .catch((err) => console.log(`Ошибка при обновлении аватара: ${err}`));\n  }\n\n  // Добавление карточки\n  function handleAddPlace({ name, link }) {\n    const token = localStorage.getItem('jwt');\n    setLoading(true);\n    api\n      .addCard({ name, link }, token)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n        setTimeout(() => setLoading(false), 200);\n      })\n      .catch((err) => console.log(`Ошибка при добавлении карточки: ${err}`));\n  }\n  // Удалить карточку после подтверждения\n  function handleConfirm() {\n    const token = localStorage.getItem('jwt');\n    setLoading(true);\n    api\n      .deleteCard(cardDelete._id, token)\n      .then(() => {\n        const newCards = cards.filter((card) => card !== cardDelete);\n        closeAllPopups();\n        setCards(newCards);\n        setTimeout(() => setLoading(false), 200);\n      })\n      .catch((err) => console.log(`Ошибка при загрузке: ${err}`))\n      .finally(() => setLoading(false));\n  }\n\n  // Кликнуть на удаление карточки\n  function handleCardDelete(card) {\n    setConfirmPopupOpen(true);\n    setCardDelete(card);\n  }\n\n  // Лайк/дизлайк\n  function handleCardLike(card) {\n    const status = card.likes.some((i) => i === currentUser._id);\n    const token = localStorage.getItem('jwt');\n    api\n      .toggleLike(card._id, status, token)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Ошибка при загрузке лайков: ${err}`));\n  }\n\n  // Открыть AvatarPopup\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  // Открыть EditProfilePopup\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  // Открыть AddPlacePopup\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  // Открыть увеличенное фото\n  function handleCardClick({ link, name }) {\n    setSelectedCard({ isImageOpen: true, link, name });\n  }\n\n  // Закрыть все попапы\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setConfirmPopupOpen(false);\n    setInfoTooltipOpen(false);\n    setSelectedCard({\n      isImageOpen: false,\n      link: '',\n      name: '',\n    });\n  }\n  // Вход\n  function handleLogin(email, password) {\n    auth\n      .authorization(email, password)\n      .then(({ token }) => {\n        if (token) {\n          localStorage.setItem('jwt', token);\n          setLoggedIn(true);\n          getUserInfo(token);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setInfoTooltipOpen(true);\n        setStatus(false);\n      });\n  }\n  // Выход\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n  }\n  // Регистрация\n  function handleRegister(email, password) {\n    auth\n      .register(email, password)\n      .then((res) => {\n        if (res) {\n          setInfoTooltipOpen(true);\n          setStatus(true);\n          history.push('/signin');\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        setInfoTooltipOpen(true);\n        setStatus(false);\n      });\n  }\n\n  // закрытие по esc\n  const closePopupsByEsc = (e) => {\n    if (e.key === 'Escape') {\n      closeAllPopups();\n    }\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='page' onKeyUp={closePopupsByEsc}>\n        <Header loggedOut={handleLogout} loggedIn={loggedIn} />\n        {isSiteLoading ? (\n          <Preloader />\n        ) : (\n          <>\n            <Switch>\n              <Route path='/signin'>\n                <Login handleLogin={handleLogin} />\n              </Route>\n              <Route path='/signup'>\n                <Register handleRegister={handleRegister} />\n              </Route>\n              <ProtectedRoute\n                exact\n                path='/'\n                loggedIn={loggedIn}\n                component={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n                cards={cards}\n              />\n            </Switch>\n            <Footer />\n          </>\n        )}\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n          isLoading={isLoading}\n        />\n        <ConfirmPopup\n          isOpen={isConfirmPopupOpen}\n          onClose={closeAllPopups}\n          onConfirmDelete={handleConfirm}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <ImagePopup image={selectedCard} onClose={closeAllPopups} />\n        <InfoTooltip\n          status={status}\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\nreportWebVitals();\n"],"sourceRoot":""}