{"version":3,"sources":["contexts/CurrentUserContext.js","utils/utils.js","utils/api.js","images/header/logo.svg","components/Header.js","images/profile/edit.svg","images/profile/plus.svg","images/card/trash.svg","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Preloader.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/status/ok.png","images/status/problem.png","components/ProtectedRoute.js","utils/auth.js","components/MenuMobile.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","baseUrl","api","this","_url","res","ok","json","Promise","reject","status","token","fetch","headers","authorization","then","_erorrCheck","all","getProfile","getInitialCards","data","method","body","JSON","stringify","name","link","id","Header","props","currentUser","useContext","pathname","useLocation","linkText","linkPath","className","src","logo","alt","loggedIn","email","onClick","loggedOut","classHeaderMenu","showMenu","to","Card","card","onCardClick","onCardLike","onCardDelete","likes","isOwn","owner","_id","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","type","trash","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","onKeyDown","avatar","edit","about","plus","map","Footer","ImagePopup","onClose","image","isImageOpen","e","target","currentTarget","aria-label","PopupWithForm","isOpen","title","children","buttonSubmit","onSubmit","EditProfilePopup","onUpdateUser","isLoading","useState","setName","hobby","setHobby","useEffect","preventDefault","value","placeholder","minLength","maxLength","onChange","required","EditAvatarPopup","onUpdateAvatar","useRef","current","ref","AddPlacePopup","setLink","ConfirmPopup","onConfirmDelete","evt","Preloader","withRouter","password","setPassword","setEmail","handleSubmit","handleLogin","event","handleRegister","InfoTooltip","ProtectedRoute","Component","component","errorCheck","MenuMobile","isShowMenu","history","useHistory","location","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","setStatus","setLoggedIn","cardDelete","setCardDelete","isSiteLoading","setSiteLoading","setLoading","setCurrentUser","setCards","selectedCard","setSelectedCard","setIsShowMenu","setClassHeaderMenu","getUserInfo","getAllNeededData","user","items","push","catch","err","console","log","finally","setTimeout","closeAllPopups","handleLogout","localStorage","removeItem","handleEsc","key","jwt","getItem","window","addEventListener","removeEventListener","Provider","locaction","exact","path","toggleLike","newCard","newCards","c","Accept","auth","setItem","error","changeProfile","addCard","deleteCard","filter","changeAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iOAEaA,EAAqBC,IAAMC,gB,gBCC3BC,EAAU,wBAGVC,EAAM,I,WCLjB,cAA0B,IAAZD,EAAW,EAAXA,QAAW,oBACvBE,KAAKC,KAAOH,E,+CAGd,SAAYI,GACV,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,W,6BAGvC,SAAgBC,GACd,OAAOC,MAAM,GAAD,OAAIT,KAAKC,KAAT,UAAuB,CACjCS,QAAS,CACPC,cAAeH,EACf,eAAgB,sBAEjBI,KAAKZ,KAAKa,e,wBAGf,SAAWL,GACT,OAAOC,MAAM,GAAD,OAAIT,KAAKC,KAAT,aAA0B,CACpCS,QAAS,CACPC,cAAeH,EACf,eAAgB,sBAEjBI,KAAKZ,KAAKa,e,8BAGf,SAAiBL,GACf,OAAOH,QAAQS,IAAI,CAACd,KAAKe,WAAWP,GAAQR,KAAKgB,gBAAgBR,O,2BAGnE,SAAcS,EAAMT,GAClB,OAAOC,MAAM,GAAD,OAAIT,KAAKC,KAAT,aAA0B,CACpCiB,OAAQ,QACRR,QAAS,CACPC,cAAeH,EACf,eAAgB,oBAElBW,KAAMC,KAAKC,UAAUJ,KACpBL,KAAKZ,KAAKa,e,0BAGf,SAAaI,EAAMT,GACjB,OAAOC,MAAM,GAAD,OAAIT,KAAKC,KAAT,oBAAiC,CAC3CiB,OAAQ,QACRR,QAAS,CACPC,cAAeH,EACf,eAAgB,oBAElBW,KAAMC,KAAKC,UAAUJ,KACpBL,KAAKZ,KAAKa,e,qBAGf,WAAwBL,GAAQ,IAAtBc,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,KACd,OAAOd,MAAM,GAAD,OAAIT,KAAKC,KAAT,UAAuB,CACjCiB,OAAQ,OACRR,QAAS,CACPC,cAAeH,EACf,eAAgB,oBAElBW,KAAMC,KAAKC,UAAU,CACnBC,OACAC,WAEDX,KAAKZ,KAAKa,e,wBAGf,SAAWW,EAAIhB,GACb,OAAOC,MAAM,GAAD,OAAIT,KAAKC,KAAT,kBAAuBuB,GAAM,CACvCN,OAAQ,SACRR,QAAS,CACPC,cAAeH,EACf,eAAgB,sBAEjBI,KAAKZ,KAAKa,e,wBAGf,SAAWW,EAAIjB,EAAQC,GACrB,OAAOC,MAAM,GAAD,OAAIT,KAAKC,KAAT,kBAAuBuB,EAAvB,UAAmC,CAC7CN,OAAQX,EAAS,SAAW,MAC5BG,QAAS,CACPC,cAAeH,EACf,eAAgB,sBAEjBI,KAAKZ,KAAKa,iB,KDjFE,CAAQ,CAAEf,YENd,MAA0B,iC,OC6C1B2B,MAvCf,SAAgBC,GACd,IAAMC,EAAcC,qBAAWjC,GAMvBkC,EAAaC,cAAbD,SACFE,EAAQ,UAAmB,YAAbF,EAAyB,qEAAgB,kCACvDG,EAAQ,UAAmB,YAAbH,EAAyB,UAAY,WAEzD,OAEI,wBAAQI,UAAU,mBAAlB,SACE,sBAAKA,UAAU,SAAf,UACE,qBAAKC,IAAKC,EAAMC,IAAI,kEAAyBH,UAAU,iBACtDP,EAAMW,SACF,qCACC,sBAAKJ,UAAU,uBAAf,UACE,+BAAON,EAAYW,OAAS,KAC5B,wBAAQL,UAAU,sBAAsBM,QAASb,EAAMc,UAAvD,+CAGF,wBACEP,UAAS,wBAAmBP,EAAMe,iBAClCF,QAtBhB,WACEb,EAAMgB,SAAS,oBAmBH,SAIE,8BAKH,cAAC,IAAD,CAAMC,GAAIX,EAAUC,UAAU,sBAA9B,SAAqDF,UCtCrD,MAA0B,iCCA1B,MAA0B,iCCA1B,MAA0B,kCC2D1Ba,MAvDf,SAAclB,GACZ,IAAMC,EAAcC,qBAAWjC,GACvBkD,EAAgDnB,EAAhDmB,KAAMC,EAA0CpB,EAA1CoB,YAAaC,EAA6BrB,EAA7BqB,WAAYC,EAAiBtB,EAAjBsB,aAC/B1B,EAAsBuB,EAAtBvB,KAAMC,EAAgBsB,EAAhBtB,KAAM0B,EAAUJ,EAAVI,MACdC,EAAQL,EAAKM,QAAUxB,EAAYyB,IACnC7C,EAASsC,EAAKI,MAAMI,MAAK,SAACC,GAAD,OAAOA,IAAM3B,EAAYyB,OAElDG,EAAuB,mCAC3BhD,EAAS,0BAA4B,IAGjCiD,EAAyB,qCAC7BN,EAAQ,GAAK,iCAYf,OACE,0BAASjB,UAAU,OAAnB,UACE,qBACEC,IAAKX,EACLa,IAAKd,EACLW,UAAU,cACVM,QAhBN,WACEO,EAAYD,MAiBV,wBACEZ,UAAWuB,EACXC,KAAK,SACLlB,QAfN,WACES,EAAaH,IAWX,SAME,qBAAKT,IAAI,6CAAUH,UAAU,6BAA6BC,IAAKwB,MAEjE,sBAAKzB,UAAU,oBAAf,UACE,oBAAIA,UAAU,aAAd,SAA4BX,IAC5B,sBAAKW,UAAU,wBAAf,UACE,wBACEA,UAAWsB,EACXE,KAAK,SACLlB,QA7BV,WACEQ,EAAWF,MA8BL,mBAAGZ,UAAU,oBAAb,SAAkCgB,EAAMU,mBCiCnCC,MA/Ef,SAAclC,GAAQ,IAElBmC,EAOEnC,EAPFmC,aACAC,EAMEpC,EANFoC,cACAC,EAKErC,EALFqC,WACAC,EAIEtC,EAJFsC,MACAlB,EAGEpB,EAHFoB,YACAC,EAEErB,EAFFqB,WACAC,EACEtB,EADFsB,aAEIrB,EAAcC,qBAAWjC,GAG/B,OACE,uBAAMsC,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,oBAAf,UACE,wBACEA,UAAU,8BACVwB,KAAK,SACLlB,QAASsB,EACTI,UAAWJ,EAJb,SAME,qBACE3B,IAAKP,EAAYuC,OACjB9B,IAAKT,EAAYL,KACjBW,UAAU,4BAId,sBAAKA,UAAU,qBAAf,UACE,sBAAKA,UAAU,8BAAf,UACE,oBAAIA,UAAU,0BAAd,SAAyCN,EAAYL,OACrD,wBACEW,UAAU,8BACVwB,KAAK,SACLlB,QAASuB,EACTG,UAAWH,EAJb,SAME,qBACE1B,IAAI,4HACJH,UAAU,8BACVC,IAAKiC,SAIX,mBAAGlC,UAAU,2BAAb,SAAyCN,EAAYyC,cAGzD,wBACEnC,UAAU,6BACVwB,KAAK,SACLlB,QAASwB,EACTE,UAAWF,EAJb,SAME,qBACE3B,IAAI,oGACJH,UAAU,6BACVC,IAAKmC,SAKX,yBAASpC,UAAU,iBAAnB,SACC+B,GACMA,EAAMM,KAAI,SAACzB,GAAD,OACX,cAAC,EAAD,CAEEA,KAAMA,EACNC,YAAaA,EACbE,aAAcA,EACdD,WAAYA,GAJPF,EAAKO,cC9DTmB,MATf,WACE,OACE,wBAAQtC,UAAU,mBAAlB,SACE,qBAAKA,UAAU,SAAf,SACE,mBAAGA,UAAU,oBAAb,yCCyBOuC,MA7Bf,SAAoB9C,GAAQ,IAClB+C,EAAmB/C,EAAnB+C,QAASC,EAAUhD,EAAVgD,MAETC,EAA4BD,EAA5BC,YAAapD,EAAemD,EAAfnD,KAAMD,EAASoD,EAATpD,KAE3B,OACE,qBACEW,UAAS,4BAAuB0C,GAAe,gBAC/CpC,QAAS,SAACqC,GACJA,EAAEC,SAAWD,EAAEE,eACjBL,KAJN,SAQE,sBAAKxC,UAAU,yBAAf,UACE,qBAAKC,IAAKX,EAAMU,UAAU,uBAAuBG,IAAKd,IACtD,oBAAIW,UAAU,oBAAd,SAAmCX,IACnC,wBACEiB,QAASkC,EACThB,KAAK,SACLjC,GAAG,oBACHS,UAAU,sBACV8C,aAAW,8ECoBNC,MA1Cf,SAAuBtD,GAAQ,IAE3BJ,EAOEI,EAPFJ,KACA2D,EAMEvD,EANFuD,OACAR,EAKE/C,EALF+C,QACAS,EAIExD,EAJFwD,MACAC,EAGEzD,EAHFyD,SACAC,EAEE1D,EAFF0D,aACAC,EACE3D,EADF2D,SAGF,OACE,qBACEpD,UAAS,gBAAWX,EAAX,YAAmB2D,EAAS,eAAiB,IACtD1C,QAAS,SAACqC,GACJA,EAAEC,SAAWD,EAAEE,eACjBL,KAJN,SAQE,qBAAKxC,UAAS,4CAAuCX,GAArD,SACE,uBAAMW,UAAU,cAAcX,KAAMA,EAAM+D,SAAUA,EAApD,UACE,wBACE5B,KAAK,SACLlB,QAASkC,EACTxC,UAAU,wBAEZ,qBAAIA,UAAU,eAAd,cAA+BiD,EAA/B,OACCC,EACD,wBACElD,UAAU,qBACVwB,KAAK,SACLsB,aAAYK,EAHd,SAKGA,YCmCEE,MAnEf,SAA0B5D,GACxB,IAAMC,EAAcC,qBAAWjC,GAE7BsF,EACEvD,EADFuD,OAAQR,EACN/C,EADM+C,QAASc,EACf7D,EADe6D,aAAcC,EAC7B9D,EAD6B8D,UAHF,EAKPC,mBAAS,IALF,mBAKxBnE,EALwB,KAKlBoE,EALkB,OAMLD,mBAAS,IANJ,mBAMxBE,EANwB,KAMjBC,EANiB,KA6B/B,OALAC,qBAAU,WACRH,EAAQ/D,EAAYL,MACpBsE,EAASjE,EAAYyC,SACpB,CAACzC,IAGF,eAAC,EAAD,CACEL,KAAK,gBACL4D,MAAM,4HACNE,aAAcI,EAAY,sDAAgB,yDAC1CP,OAAQA,EACRR,QAASA,EACTY,SApBJ,SAAsBT,GACpBA,EAAEkB,iBACFP,EAAa,CACXjE,OACA8C,MAAOuB,KAUT,UAQE,uBACEI,MAAOzE,GAAQ,GACfA,KAAK,OACLmC,KAAK,OACLjC,GAAG,OACHS,UAAU,iCACV+D,YAAY,gEACZC,UAAU,IACVC,UAAU,KACVC,SAvCN,SAA0BvB,GACxBc,EAAQd,EAAEC,OAAOkB,QAuCbK,UAAQ,IAEV,sBAAM5E,GAAG,aAAaS,UAAU,gBAChC,uBACE8D,MAAOJ,GAAS,GAChBrE,KAAK,QACLmC,KAAK,OACLjC,GAAG,QACHS,UAAU,kCACV+D,YAAY,0DACZC,UAAU,IACVC,UAAU,MACVC,SAhDN,SAA2BvB,GACzBgB,EAAShB,EAAEC,OAAOkB,QAgDdK,UAAQ,IAEV,sBAAM5E,GAAG,cAAcS,UAAU,oBC/BxBoE,MAjCf,SAAyB3E,GAAQ,IAE7BuD,EACEvD,EADFuD,OAAQR,EACN/C,EADM+C,QAAS6B,EACf5E,EADe4E,eAAgBd,EAC/B9D,EAD+B8D,UAE7BtB,EAASqC,iBAAO,IAQtB,OACE,eAAC,EAAD,CACEjF,KAAK,eACL4D,MAAM,wFACNE,aAAcI,EAAY,sDAAgB,yDAC1CP,OAAQA,EACRR,QAASA,EACTY,SAbJ,SAAsBT,GACpBA,EAAEkB,iBACFQ,EAAe,CACbpC,OAAQA,EAAOsC,QAAQT,SAIzB,UAQE,uBACEU,IAAKvC,EACLT,KAAK,MACLxB,UAAU,mCACV+D,YAAY,qGACZI,UAAQ,IAEV,sBAAM5E,GAAG,eAAeS,UAAU,oBC+BzByE,MA3Df,SAAuBhF,GAAQ,IAE3BuD,EACEvD,EADFuD,OAAQR,EACN/C,EADM+C,QAASV,EACfrC,EADeqC,WAAYyB,EAC3B9D,EAD2B8D,UAFH,EAIJC,mBAAS,IAJL,mBAIrBnE,EAJqB,KAIfoE,EAJe,OAKJD,mBAAS,IALL,mBAKrBlE,EALqB,KAKfoF,EALe,KAuB5B,OACE,eAAC,EAAD,CACErF,KAAK,aACL4D,MAAM,gEACND,OAAQA,EACRR,QAASA,EACTY,SAfJ,SAAsBT,GACpBA,EAAEkB,iBACF/B,EAAW,CACTzC,OACAC,SAEFmE,EAAQ,IACRiB,EAAQ,KASNvB,aAAcI,EAAY,sDAAgB,6CAN5C,UAQE,uBACElE,KAAK,OACLmC,KAAK,OACLjC,GAAG,QACHS,UAAU,iCACV+D,YAAY,mDACZC,UAAU,IACVC,UAAU,KACVC,SAjCN,SAA0BvB,GACxBc,EAAQd,EAAEC,OAAOkB,QAiCbA,MAAOzE,EACP8E,UAAQ,IAEV,sBAAM5E,GAAG,cAAcS,UAAU,gBACjC,uBACEX,KAAK,OACLmC,KAAK,MACLjC,GAAG,OACHS,UAAU,eACV+D,YAAY,qGACZG,SAzCN,SAA0BvB,GACxB+B,EAAQ/B,EAAEC,OAAOkB,QAyCbA,MAAOxE,EACP6E,UAAQ,IAEV,sBAAM5E,GAAG,aAAaS,UAAU,oBCpCvB2E,MAnBf,SAAsBlF,GAAQ,IAE1BuD,EACEvD,EADFuD,OAAQR,EACN/C,EADM+C,QAASoC,EACfnF,EADemF,gBAAiBrB,EAChC9D,EADgC8D,UAMpC,OACE,cAAC,EAAD,CACElE,KAAK,gBACL4D,MAAM,2DACNE,aAAcI,EAAY,sDAAgB,eAC1CP,OAAQA,EACRR,QAASA,EACTY,SAXJ,SAAsByB,GACpBA,EAAIhB,iBACJe,QCAWE,MAPf,SAAmBrF,GACjB,OACE,qBAAKO,UAAU,sBAAf,SACE,qBAAKA,UAAU,iBCgDN+E,mBAlDf,SAAetF,GAAQ,IAAD,EACY+D,mBAAS,IADrB,mBACbwB,EADa,KACHC,EADG,OAEMzB,mBAAS,IAFf,mBAEbnD,EAFa,KAEN6E,EAFM,KAIpB,SAASC,EAAaxC,GACpBA,EAAEkB,iBACGxD,GAAU2E,GAGfvF,EAAM2F,YAAY/E,EAAO2E,GAE3B,OACE,sBAAKhF,UAAU,QAAf,UACE,mBAAGA,UAAU,iBAAb,sCACA,uBAAMA,UAAU,cAAcoD,SAAU+B,EAAxC,UACE,uBACEnF,UAAU,eACVT,GAAG,QACHF,KAAK,QACLmC,KAAK,QACL2C,UAAQ,EACRL,MAAOzD,EACP6D,SAAU,SAACmB,GAAD,OAAWH,EAASG,EAAMzC,OAAOkB,QAC3CC,YAAY,UAEd,uBACE/D,UAAU,eACVT,GAAG,WACHF,KAAK,WACLmC,KAAK,WACL2C,UAAQ,EACRL,MAAOkB,EACPd,SAAU,SAACmB,GAAD,OAAWJ,EAAYI,EAAMzC,OAAOkB,QAC9CC,YAAY,yCAEd,wBACE/D,UAAU,8BACVwB,KAAK,SACL4B,SAAU+B,EAHZ,+CAQF,cAAC,IAAD,CAAMnF,UAAU,cAAcU,GAAG,UAAjC,wNCOSqE,mBAlDf,SAAkBtF,GAAQ,IAAD,EACS+D,mBAAS,IADlB,mBAChBwB,EADgB,KACNC,EADM,OAEGzB,mBAAS,IAFZ,mBAEhBnD,EAFgB,KAET6E,EAFS,KAIvB,SAASC,EAAaxC,GACpBA,EAAEkB,iBACFpE,EAAM6F,eAAejF,EAAO2E,GAC5BC,EAAY,IACZC,EAAS,IAGX,OACE,sBAAKlF,UAAU,WAAf,UACE,mBAAGA,UAAU,oBAAb,gFACA,uBAAMA,UAAU,iBAAiBoD,SAAU+B,EAA3C,UACE,uBACEnF,UAAU,kBACVT,GAAG,QACHF,KAAK,QACLmC,KAAK,QACL2C,UAAQ,EACRL,MAAOzD,EACP6D,SAAU,SAACmB,GAAD,OAAWH,EAASG,EAAMzC,OAAOkB,QAC3CC,YAAY,UAEd,uBACE/D,UAAU,kBACVT,GAAG,WACHF,KAAK,WACLmC,KAAK,WACL2C,UAAQ,EACRL,MAAOkB,EACPd,SAAU,SAACmB,GAAD,OAAWJ,EAAYI,EAAMzC,OAAOkB,QAC9CC,YAAY,yCAEd,wBACE/D,UAAU,iCACVwB,KAAK,SACL4B,SAAU+B,EAHZ,6HAQF,cAAC,IAAD,CAAMnF,UAAU,iBAAiBU,GAAG,UAApC,uKCXS6E,MA/Bf,SAAqB9F,GAAQ,IACnB+C,EAAY/C,EAAZ+C,QACR,OACE,qBACExC,UAAS,6BAAwBP,EAAMuD,OAAS,eAAiB,KACjEzD,GAAG,eAFL,SAIE,sBAAKS,UAAU,0BAAf,UACE,qBACEA,UAAU,sBACVC,IAAKR,EAAMnB,OCdN,iwFCAA,imHFeL6B,IAAKV,EAAMnB,OAAS,6CAAY,yCAElC,oBAAI0B,UAAU,sBAAd,SACGP,EAAMnB,OACH,wKADH,mNAKH,wBACEgC,QAASkC,EACThB,KAAK,SACLjC,GAAG,oBACHS,UAAU,sBACV8C,aAAW,8E,gBGlBN0C,EAPQ,SAAC,GAAD,IAAcC,EAAd,EAAGC,UAAyBjG,EAA5B,oCACnB,cAAC,IAAD,UACG,kBAAOA,EAAMW,SAAW,cAACqF,EAAD,eAAehG,IAAY,cAAC,IAAD,CAAUiB,GAAG,iBCHvE,SAASiF,EAAW1H,GAClB,OAAIA,EAAIC,GACCD,EAAIE,OACJC,QAAQC,OAAR,0GAAuCJ,EAAIK,SCUvCsH,MAZf,SAAoBnG,GAClB,IAAMC,EAAcC,qBAAWjC,GAC/B,OACE,qBAAKsC,UAAS,gCAA2BP,EAAMoG,YAA/C,SACE,uBAAM7F,UAAU,cAAhB,UACE,+BAAON,EAAYW,OAAS,KAC5B,wBAAQL,UAAU,wCAAwCM,QAASb,EAAMc,UAAzE,kDCoUOwE,mBAjTf,WACE,IAAMe,EAAUC,cACVC,EAAWnG,cAFJ,EAG6C2D,oBAAS,GAHtD,mBAGNyC,EAHM,KAGkBC,EAHlB,OAIuC1C,oBAAS,GAJhD,mBAIN2C,EAJM,KAIeC,EAJf,OAK2C5C,oBAAS,GALpD,mBAKN6C,EALM,KAKiBC,EALjB,OAMqC9C,oBAAS,GAN9C,mBAMN+C,EANM,KAMcC,EANd,OAOmChD,oBAAS,GAP5C,mBAONiD,EAPM,KAOaC,EAPb,OAQelD,oBAAS,GARxB,mBAQNlF,EARM,KAQEqI,EARF,OASmBnD,oBAAS,GAT5B,mBASNpD,EATM,KASIwG,EATJ,QAUuBpD,mBAAS,IAVhC,qBAUNqD,GAVM,MAUMC,GAVN,SAW2BtD,oBAAS,GAXpC,qBAWNuD,GAXM,MAWSC,GAXT,SAYmBxD,qBAZnB,qBAYND,GAZM,MAYK0D,GAZL,SAayBzD,mBAAS,IAblC,qBAaN9D,GAbM,MAaOwH,GAbP,SAca1D,mBAAS,IAdtB,qBAcNzB,GAdM,MAcCoF,GAdD,SAe2B3D,mBAAS,CAC/Cd,aAAa,EACbpD,KAAM,GACND,KAAM,KAlBK,qBAeN+H,GAfM,MAeQC,GAfR,SAoBuB1J,IAAM6F,SAAS,0BApBtC,qBAoBNqC,GApBM,MAoBMyB,GApBN,SAqBiC3J,IAAM6F,SAClD,4BAtBW,qBAqBNhD,GArBM,MAqBW+G,GArBX,MA2Cb,SAASC,GAAYjJ,GACnBT,EACG2J,iBAAiBlJ,GACjBI,MAAK,YAAoB,IAAD,mBAAjB+I,EAAiB,KAAXC,EAAW,KACvBR,GAASQ,GACTT,GAAeQ,GACfd,GAAY,GACZd,EAAQ8B,KAAK,QAEdC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,yJAA2CF,OAC1DG,SAAQ,kBAAMC,YAAW,kBAAMlB,IAAe,KAAQ,QAkG3D,SAASmB,KACPjC,GAAwB,GACxBI,GAAuB,GACvBF,GAAqB,GACrBI,GAAoB,GACpBE,GAAmB,GACnBW,GAAgB,CACd3E,aAAa,EACbpD,KAAM,GACND,KAAM,KAqBV,SAAS+I,KACPC,aAAaC,WAAW,OACxB1B,GAAY,GAmCd,SAAS2B,GAAU1D,GACD,WAAZA,EAAI2D,KACNL,KAYJ,OA9MAvE,qBAAU,WACR,IF1BuBrF,EE0BjBkK,EAAMJ,aAAaK,QAAQ,OAC7BD,GF3BmBlK,EE6BPkK,EF7BiBjK,MAAM,GAAD,OAAIX,EAAJ,aAAwB,CAChEoB,OAAQ,MACRR,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAE1BI,KAAKgH,IEwBChH,MAAK,YAAe,EAAZ0B,OAELmH,GAAYiB,MAGfZ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAE9Bd,IAAe,KAGhB,IAuLHpD,qBAAU,WAGR,OAFA+E,OAAOC,iBAAiB,UAAWL,IAE5B,WACLI,OAAOE,oBAAoB,UAAWN,QAKxC,eAAC7K,EAAmBoL,SAApB,CAA6BhF,MAAOpE,GAApC,UACGU,GACC,cAAC,EAAD,CAAYG,UAAW6H,GAAcvC,WAAYA,KAEnD,cAAC,EAAD,CACEzF,SAAUA,EACV2I,UAAW/C,EACXvF,SArCN,WAEI6G,GADiB,2BAAfzB,GACY,wBAEA,0BAId0B,GADsB,6BAApB/G,GACiB,2BAEA,6BA4BjBA,gBAAiBA,GACjBD,UAAW6H,KAEb,eAAC,IAAD,WACGrB,GACC,cAAC,EAAD,IAEA,cAAC,EAAD,CACEiC,OAAK,EACLC,KAAK,IACL7I,SAAUA,EACVsF,UAAW/D,EACXE,cArHV,WACEqE,GAAwB,IAqHhBpE,WAjHV,WACEsE,GAAqB,IAiHbxE,aA5HV,WACE0E,GAAuB,IA4HfzF,YA9GV,YAA0C,IAAfvB,EAAc,EAAdA,KAAMD,EAAQ,EAARA,KAC/BgI,GAAgB,CAAE3E,aAAa,EAAMpD,OAAMD,UA8GnCyB,WA3IV,SAAwBF,GACtB,IAAMtC,EAASsC,EAAKI,MAAMI,MAAK,SAACC,GAAD,OAAOA,IAAM3B,GAAYyB,OAClD5C,EAAQ8J,aAAaK,QAAQ,OACnC5K,EACGoL,WAAWtI,EAAKO,IAAK7C,EAAQC,GAC7BI,MAAK,SAACwK,GACL,IAAMC,EAAWrH,GAAMM,KAAI,SAACgH,GAAD,OAAQA,EAAElI,MAAQP,EAAKO,IAAMgI,EAAUE,KAClElC,GAASiC,MAEVvB,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,yJAA2CF,QAmIrD/G,aAlJV,SAA0BH,GACxB4F,GAAoB,GACpBM,GAAclG,IAiJNmB,MAAOA,KAGX,cAAC,IAAD,CAAOkH,KAAK,UAAZ,SACE,cAAC,EAAD,CAAO7D,YAnGf,SAAqB/E,EAAO2E,IF5KD,SAAC3E,EAAO2E,GAAR,OAAqBxG,MAAM,GAAD,OAAIX,EAAJ,WAAsB,CAC3EoB,OAAQ,OACRR,QAAS,CACP6K,OAAQ,mBACR,eAAgB,oBAElBpK,KAAMC,KAAKC,UAAU,CAAEiB,QAAO2E,eAC7BrG,KAAKgH,IEsKJ4D,CACiBlJ,EAAO2E,GACrBrG,MAAK,YAAgB,IAAbJ,EAAY,EAAZA,MACHA,IACF8J,aAAamB,QAAQ,MAAOjL,GAC5BqI,GAAY,GACZY,GAAYjJ,OAGfsJ,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZpB,GAAmB,GACnBC,GAAU,WAwFV,cAAC,IAAD,CAAOsC,KAAK,UAAZ,SACE,cAAC,EAAD,CAAU3D,eAhFlB,SAAwBjF,EAAO2E,IF9MT,SAAC3E,EAAO2E,GAAR,OAAqBxG,MAAM,GAAD,OAAIX,EAAJ,WAAsB,CACtEoB,OAAQ,OACRR,QAAS,CACP6K,OAAQ,mBACR,eAAgB,oBAElBpK,KAAMC,KAAKC,UAAU,CACnBiB,QACA2E,eAEDrG,KAAKgH,IEqMJ4D,CACYlJ,EAAO2E,GAChBrG,MAAK,SAACV,GACDA,IACFyI,GAAmB,GACnBC,GAAU,GACVb,EAAQ8B,KAAK,eAGhBC,OAAM,SAAC4B,GACN1B,QAAQC,IAAIyB,GACZ/C,GAAmB,GACnBC,GAAU,cAsEZ,cAAC,EAAD,IAEA,cAAC,EAAD,CACE3D,OAAQiD,EACRzD,QAAS2F,GACT7E,aA1NN,SAA0BtE,GACxB,IAAMT,EAAQ8J,aAAaK,QAAQ,OACnCzB,IAAW,GACXnJ,EACG4L,cAAc1K,EAAMT,GACpBI,MAAK,SAACV,GACLiJ,GAAejJ,GACfkK,KACAlB,IAAW,MAEZY,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,qKAA6CF,QAiN3DvE,UAAWA,KAEb,cAAC,EAAD,CACEP,OAAQmD,EACR3D,QAAS2F,GACTrG,WApMN,YAAyC,IAAfzC,EAAc,EAAdA,KAAMC,EAAQ,EAARA,KACxBf,EAAQ8J,aAAaK,QAAQ,OACnCzB,IAAW,GACXnJ,EACG6L,QAAQ,CAAEtK,OAAMC,QAAQf,GACxBI,MAAK,SAACwK,GACLhC,GAAS,CAACgC,GAAF,mBAAcpH,MACtBoG,KACAD,YAAW,kBAAMjB,IAAW,KAAQ,QAErCY,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,iLAA+CF,QA2L7DvE,UAAWA,KAEb,cAAC,EAAD,CACEP,OAAQuD,EACR/D,QAAS2F,GACTvD,gBA7LN,WACE,IAAMrG,EAAQ8J,aAAaK,QAAQ,OACnCzB,IAAW,GACXnJ,EACG8L,WAAW/C,GAAW1F,IAAK5C,GAC3BI,MAAK,WACJ,IAAMyK,EAAWrH,GAAM8H,QAAO,SAACjJ,GAAD,OAAUA,IAASiG,MACjDsB,KACAhB,GAASiC,GACTlB,YAAW,kBAAMjB,IAAW,KAAQ,QAErCY,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,oHAAoCF,OACnDG,SAAQ,kBAAMhB,IAAW,OAkLxB1D,UAAWA,KAEb,cAAC,EAAD,CACEP,OAAQqD,EACR7D,QAAS2F,GACT9D,eA9NN,SAA4BrF,GAC1B,IAAMT,EAAQ8J,aAAaK,QAAQ,OACnCzB,IAAW,GACXnJ,EACGgM,aAAa9K,EAAMT,GACnBI,MAAK,SAACV,GACLiJ,GAAejJ,GACfkK,KACAD,YAAW,kBAAMjB,IAAW,KAAQ,QAErCY,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,2KAA8CF,QAqN5DvE,UAAWA,KAEb,cAAC,EAAD,CAAYd,MAAO2E,GAAc5E,QAAS2F,KAC1C,cAAC,EAAD,CACE7J,OAAQA,EACR0E,OAAQyD,EACRjE,QAAS2F,WCzTF4B,EAdS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBtL,MAAK,YAEnB,IADLuL,EACI,EADJA,OAAQC,EACJ,EADIA,OAAQC,EACZ,EADYA,OAAQC,EACpB,EADoBA,OAAQC,EAC5B,EAD4BA,QAEhCJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAE1BZ,M","file":"static/js/main.4d65d639.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import Api from './api';\n\n// export const baseUrl = 'https://api.mesto.stamat.nomoredomains.icu';\nexport const baseUrl = 'http://localhost:3000';\n\n\nexport const api = new Api({ baseUrl });\n","export default class Api {\n  constructor({ baseUrl }) {\n    this._url = baseUrl;\n  }\n\n  _erorrCheck(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this._url}/cards`, {\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n    }).then(this._erorrCheck);\n  }\n\n  getProfile(token) {\n    return fetch(`${this._url}/users/me`, {\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n    }).then(this._erorrCheck);\n  }\n\n  getAllNeededData(token) {\n    return Promise.all([this.getProfile(token), this.getInitialCards(token)]);\n  }\n\n  changeProfile(data, token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }).then(this._erorrCheck);\n  }\n\n  changeAvatar(data, token) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }).then(this._erorrCheck);\n  }\n\n  addCard({ name, link }, token) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(this._erorrCheck);\n  }\n\n  deleteCard(id, token) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n    }).then(this._erorrCheck);\n  }\n\n  toggleLike(id, status, token) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: status ? 'DELETE' : 'PUT',\n      headers: {\n        authorization: token,\n        'Content-Type': 'application/json',\n      },\n    }).then(this._erorrCheck);\n  }\n}\n","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React, { useContext } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport logo from '../images/header/logo.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Header(props) {\n  const currentUser = useContext(CurrentUserContext);\n  // Открыть/закрыть email пользователя в мобильной версии\n  function openAuthInfo() {\n    props.showMenu('mobile_position');\n  }\n\n  const { pathname } = useLocation();\n  const linkText = `${pathname === '/signin' ? 'Регистрация' : 'Войти'}`;\n  const linkPath = `${pathname === '/signin' ? '/signup' : '/signin'}`;\n\n  return (\n\n      <header className='header__position'>\n        <div className='header'>\n          <img src={logo} alt='Логотип «Mesto Russia»' className='header__logo'/>\n          {props.loggedIn\n            ? (<>\n                <div className='header__info-desktop'>\n                  <span>{currentUser.email || ''}</span>\n                  <button className='button header__link' onClick={props.loggedOut}>Выйти</button>\n                </div>\n\n                <button\n                  className={`header__menu  ${props.classHeaderMenu}`}\n                  onClick={openAuthInfo}\n                >\n                  <span/>\n                </button>\n\n              </>\n            )\n            : (<Link to={linkPath} className=\"button header__link\">{linkText}</Link>)\n          }\n        </div>\n      </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/edit.a086f758.svg\";","export default __webpack_public_path__ + \"static/media/plus.bf78040b.svg\";","export default __webpack_public_path__ + \"static/media/trash.a274c87c.svg\";","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport trash from '../images/card/trash.svg';\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const { card, onCardClick, onCardLike, onCardDelete } = props;\n  const { name, link, likes } = card;\n  const isOwn = card.owner === currentUser._id;\n  const status = card.likes.some((i) => i === currentUser._id);\n\n  const cardLikeButtonClassName = `button card__button-like ${\n    status ? 'card__button-like_solid' : ''\n  }`;\n\n  const cardDeleteButtonClassName = `button card__button-delete ${\n    isOwn ? '' : 'card__button-delete_invisible'\n  }`;\n  function handleCardClick() {\n    onCardClick(card);\n  }\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <article className='card'>\n      <img\n        src={link}\n        alt={name}\n        className='card__image'\n        onClick={handleCardClick}\n      />\n      <button\n        className={cardDeleteButtonClassName}\n        type='submit'\n        onClick={handleDeleteClick}\n      >\n      \n        <img alt='Удалить' className='card__button-delete-vector' src={trash} />\n      </button>\n      <div className='card__description'>\n        <h2 className='card__name'>{name}</h2>\n        <div className='card__likes-container'>\n          <button\n            className={cardLikeButtonClassName}\n            type='submit'\n            onClick={handleLikeClick}\n          />\n          <p className='card__count-likes'>{likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport edit from '../images/profile/edit.svg';\nimport plus from '../images/profile/plus.svg';\nimport Card from './Card';\n\nfunction Main(props) {\n  const {\n    onEditAvatar,\n    onEditProfile,\n    onAddPlace,\n    cards,\n    onCardClick,\n    onCardLike,\n    onCardDelete,\n  } = props;\n  const currentUser = useContext(CurrentUserContext);\n\n  \n  return (\n    <main className='content'>\n      <section className='profile'>\n        <div className='profile__position'>\n          <button\n            className='button profile__avatar-edit'\n            type='button'\n            onClick={onEditAvatar}\n            onKeyDown={onEditAvatar}\n          >\n            <img\n              src={currentUser.avatar}\n              alt={currentUser.name}\n              className='profile__avatar-image'\n            />\n          </button>\n\n          <div className='profile__user-info'>\n            <div className='profile__name-edit-position'>\n              <h1 className='profile__user-info-name'>{currentUser.name}</h1>\n              <button\n                className='button profile__button-edit'\n                type='button'\n                onClick={onEditProfile}\n                onKeyDown={onEditProfile}\n              >\n                <img\n                  alt='Редактировать профиль'\n                  className='profile__button-edit-vector'\n                  src={edit}\n                />\n              </button>\n            </div>\n            <p className='profile__user-info-about'>{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className='button profile__button-add'\n          type='button'\n          onClick={onAddPlace}\n          onKeyDown={onAddPlace}\n        >\n          <img\n            alt='Добавить карточку'\n            className='profile__button-add-vector'\n            src={plus}\n          />\n        </button>\n      </section>\n      \n      <section className='card-container'>\n      {cards\n          && cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardDelete={onCardDelete}\n              onCardLike={onCardLike}\n            />\n          ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer__position\">\n      <div className=\"footer\">\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n      </div>\n    </footer>\n  );\n}\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const { onClose, image } = props;\n\n  const { isImageOpen, link, name } = image;\n\n  return (\n    <div\n      className={`popup popup-image ${isImageOpen && 'popup_opened'}`}\n      onClick={(e) => {\n        if (e.target === e.currentTarget) {\n          onClose();\n        }\n      }}\n    >\n      <div className='popup-image__container'>\n        <img src={link} className='popup-image__element' alt={name} />\n        <h2 className='popup-image__text'>{name}</h2>\n        <button\n          onClick={onClose}\n          type='button'\n          id='popup-image-close'\n          className='popup__button-close'\n          aria-label='Закрыть Окно'\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const {\n    name,\n    isOpen,\n    onClose,\n    title,\n    children,\n    buttonSubmit,\n    onSubmit,\n  } = props;\n\n  return (\n    <div\n      className={`popup ${name} ${isOpen ? 'popup_opened' : ''}`}\n      onClick={(e) => {\n        if (e.target === e.currentTarget) {\n          onClose();\n        }\n      }}\n    >\n      <div className={`popup__container popup__container_${name}`}>\n        <form className='popup__form' name={name} onSubmit={onSubmit}>\n          <button\n            type='button'\n            onClick={onClose}\n            className='popup__button-close'\n          ></button>\n          <h2 className='popup__title'> {title} </h2>\n          {children}\n          <button\n            className='popup__button-save'\n            type='submit'\n            aria-label={buttonSubmit}\n          >\n            {buttonSubmit}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useContext, useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const {\n    isOpen, onClose, onUpdateUser, isLoading,\n  } = props;\n  const [name, setName] = useState('');\n  const [hobby, setHobby] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleHobbyChange(e) {\n    setHobby(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: hobby,\n    });\n  }\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setHobby(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name='popup-profile'\n      title='Редактировать профиль'\n      buttonSubmit={isLoading ? 'Загрузка...' : 'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        value={name || ''}\n        name='name'\n        type='text'\n        id='name'\n        className='popup__input popup__input_name'\n        placeholder='Введите имя'\n        minLength='2'\n        maxLength='40'\n        onChange={handleNameChange}\n        required\n      />\n      <span id='name-error' className='popup__span'></span>\n      <input\n        value={hobby || ''}\n        name='about'\n        type='text'\n        id='hobby'\n        className='popup__input popup__input_hobby'\n        placeholder='Ваше хобби'\n        minLength='2'\n        maxLength='200'\n        onChange={handleHobbyChange}\n        required\n      />\n      <span id='hobby-error' className='popup__span'></span>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const {\n    isOpen, onClose, onUpdateAvatar, isLoading,\n  } = props;\n  const avatar = useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatar.current.value,\n    });\n  }\n  return (\n    <PopupWithForm\n      name='popup_avatar'\n      title='Обновить аватар'\n      buttonSubmit={isLoading ? 'Загрузка...' : 'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={avatar}\n        type='url'\n        className='popup__input popup__input_avatar'\n        placeholder='Ссылка на картинку'\n        required\n      />\n      <span id='avatar-error' className='popup__span'></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const {\n    isOpen, onClose, onAddPlace, isLoading,\n  } = props;\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name,\n      link,\n    });\n    setName('');\n    setLink('');\n  }\n  return (\n    <PopupWithForm\n      name='popup-item'\n      title='Новое место'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonSubmit={isLoading ? 'Загрузка...' : 'Создать'}\n    >\n      <input\n        name='name'\n        type='text'\n        id='place'\n        className='popup__input popup__input_link'\n        placeholder='Название'\n        minLength='1'\n        maxLength='30'\n        onChange={handleNameChange}\n        value={name}\n        required\n      />\n      <span id='place-error' className='popup__span'></span>\n      <input\n        name='link'\n        type='url'\n        id='link'\n        className='popup__input'\n        placeholder='Ссылка на картинку'\n        onChange={handleLinkChange}\n        value={link}\n        required\n      />\n      <span id='link-error' className='popup__span'></span>\n    </PopupWithForm>\n  );\n}\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n  const {\n    isOpen, onClose, onConfirmDelete, isLoading,\n  } = props;\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onConfirmDelete();\n  }\n  return (\n    <PopupWithForm\n      name='popup_confirm'\n      title='Вы уверены?'\n      buttonSubmit={isLoading ? 'Удаление...' : 'Да'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    ></PopupWithForm>\n  );\n}\nexport default ConfirmPopup;\n","import React from 'react';\n\nfunction Preloader(props) {\n  return (\n    <div className='preloader__position'>\n      <div className='preloader'></div>\n    </div>\n  );\n}\nexport default Preloader;\n","import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nfunction Login(props) {\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!email || !password) {\n      return;\n    }\n    props.handleLogin(email, password);\n  }\n  return (\n    <div className='login'>\n      <p className='login__heading'>Вход</p>\n      <form className='login__form' onSubmit={handleSubmit}>\n        <input\n          className='login__input'\n          id='email'\n          name='email'\n          type='email'\n          required\n          value={email}\n          onChange={(event) => setEmail(event.target.value)}\n          placeholder='Email'\n        />\n        <input\n          className='login__input'\n          id='password'\n          name='password'\n          type='password'\n          required\n          value={password}\n          onChange={(event) => setPassword(event.target.value)}\n          placeholder='Пароль'\n        />\n        <button\n          className='button login__submit-button'\n          type='submit'\n          onSubmit={handleSubmit}\n        >\n          Войти\n        </button>\n      </form>\n      <Link className='login__link' to='/signup'>\n        Ещё не зарегистрированы? Регистрация\n      </Link>\n    </div>\n  );\n}\n\nexport default withRouter(Login);\n","import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nfunction Register(props) {\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleRegister(email, password);\n    setPassword('');\n    setEmail('');\n  }\n\n  return (\n    <div className='register'>\n      <p className='register__heading'>Регистрация</p>\n      <form className='register__form' onSubmit={handleSubmit}>\n        <input\n          className='register__input'\n          id='email'\n          name='email'\n          type='email'\n          required\n          value={email}\n          onChange={(event) => setEmail(event.target.value)}\n          placeholder='Email'\n        />\n        <input\n          className='register__input'\n          id='password'\n          name='password'\n          type='password'\n          required\n          value={password}\n          onChange={(event) => setPassword(event.target.value)}\n          placeholder='Пароль'\n        />\n        <button\n          className='button register__submit-button'\n          type='submit'\n          onSubmit={handleSubmit}\n        >\n          Зарегистрироваться\n        </button>\n      </form>\n      <Link className='register__link' to='/signin'>\n        Уже зарегистрированы? Войти\n      </Link>\n    </div>\n  );\n}\n\nexport default withRouter(Register);\n","import React from 'react';\nimport succes from '../images/status/ok.png';\nimport error from '../images/status/problem.png';\n\nfunction InfoTooltip(props) {\n  const { onClose } = props;\n  return (\n    <div\n      className={`popup popup-status ${props.isOpen ? 'popup_opened' : ' '}`}\n      id='info-tooltip'\n    >\n      <div className='popup-status__container'>\n        <img\n          className='popup-status__image'\n          src={props.status ? succes : error}\n          alt={props.status ? 'Успешно' : 'Ошибка'}\n        />\n        <h2 className='popup-status__title'>\n          {props.status\n            ? 'Вы успешно зарегистрировались!'\n            : `Что-то пошло не так!\n          Попробуйте ещё раз.`}\n        </h2>\n        <button\n          onClick={onClose}\n          type='button'\n          id='popup-image-close'\n          className='popup__button-close'\n          aria-label='Закрыть Окно'\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n    <Route>\n      {() => (props.loggedIn ? <Component {...props} /> : <Redirect to='./signin' />)\n      }\n    </Route>\n);\n\nexport default ProtectedRoute;\n","import { baseUrl } from './utils';\n\nfunction errorCheck(res) {\n  if (res.ok) {\n    return res.json();\n  } return Promise.reject(`Что-то пошло не так: ${res.status}`);\n}\n\nexport const register = (email, password) => fetch(`${baseUrl}/signup`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({\n    email,\n    password,\n  }),\n}).then(errorCheck);\n\nexport const authorization = (email, password) => fetch(`${baseUrl}/signin`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n}).then(errorCheck);\n\nexport const checkToken = (token) => fetch(`${baseUrl}/users/me`, {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    authorization: `Bearer ${token}`,\n  },\n}).then(errorCheck);\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction MenuMobile(props) {\n  const currentUser = useContext(CurrentUserContext);\n  return (\n    <div className={`menu-mobile__position ${props.isShowMenu}`}>\n      <menu className='menu-mobile'>\n        <span>{currentUser.email || ''}</span>\n        <button className='button header__link menu-mobile__exit' onClick={props.loggedOut}>Выйти</button>\n      </menu>\n    </div>\n  );\n}\n\nexport default MenuMobile;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Route,\n  Switch,\n  useHistory,\n  withRouter,\n  useLocation,\n} from 'react-router-dom';\nimport '../index.css';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { api } from '../utils/utils';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport Preloader from './Preloader';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport * as auth from '../utils/auth.js';\nimport MenuMobile from './MenuMobile';\n\n\nfunction App() {\n  const history = useHistory();\n  const location = useLocation();\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n  const [status, setStatus] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [cardDelete, setCardDelete] = useState({});\n  const [isSiteLoading, setSiteLoading] = useState(true);\n  const [isLoading, setLoading] = useState();\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({\n    isImageOpen: false,\n    link: '',\n    name: '',\n  });\n  const [isShowMenu, setIsShowMenu] = React.useState('menu-mobile_type_close');\n  const [classHeaderMenu, setClassHeaderMenu] = React.useState(\n    'header__menu_type_closed'\n  );\n\n  // Проверить токен\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then(({ email }) => {\n          if (email) {\n            getUserInfo(jwt);\n          }\n        })\n        .catch((err) => console.log(err));\n    } else {\n      setSiteLoading(false);\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  function getUserInfo(token) {\n    api\n      .getAllNeededData(token)\n      .then(([user, items]) => {\n        setCards(items);\n        setCurrentUser(user);\n        setLoggedIn(true);\n        history.push('/');\n      })\n      .catch((err) => console.log(`Ошибка при загрузке данных: ${err}`))\n      .finally(() => setTimeout(() => setSiteLoading(false), 500));\n  }\n  // Обновление данных профиля\n  function handleUpdateUser(data) {\n    const token = localStorage.getItem('jwt');\n    setLoading(true);\n    api\n      .changeProfile(data, token)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n        setLoading(false);\n      })\n      .catch((err) => console.log(`Ошибка при обновлении данных: ${err}`));\n  }\n\n  // Обновление аватара\n  function handleUpdateAvatar(data) {\n    const token = localStorage.getItem('jwt');\n    setLoading(true);\n    api\n      .changeAvatar(data, token)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n        setTimeout(() => setLoading(false), 200);\n      })\n      .catch((err) => console.log(`Ошибка при обновлении аватара: ${err}`));\n  }\n\n  // Добавление карточки\n  function handleAddPlace({ name, link }) {\n    const token = localStorage.getItem('jwt');\n    setLoading(true);\n    api\n      .addCard({ name, link }, token)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n        setTimeout(() => setLoading(false), 200);\n      })\n      .catch((err) => console.log(`Ошибка при добавлении карточки: ${err}`));\n  }\n  // Удалить карточку после подтверждения\n  function handleConfirm() {\n    const token = localStorage.getItem('jwt');\n    setLoading(true);\n    api\n      .deleteCard(cardDelete._id, token)\n      .then(() => {\n        const newCards = cards.filter((card) => card !== cardDelete);\n        closeAllPopups();\n        setCards(newCards);\n        setTimeout(() => setLoading(false), 200);\n      })\n      .catch((err) => console.log(`Ошибка при загрузке: ${err}`))\n      .finally(() => setLoading(false));\n  }\n  // Кликнуть на удаление карточки\n  function handleCardDelete(card) {\n    setConfirmPopupOpen(true);\n    setCardDelete(card);\n  }\n\n  // Лайк/дизлайк\n  function handleCardLike(card) {\n    const status = card.likes.some((i) => i === currentUser._id);\n    const token = localStorage.getItem('jwt');\n    api\n      .toggleLike(card._id, status, token)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Ошибка при загрузке лайков: ${err}`));\n  }\n\n  // Открыть AvatarPopup\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  // Открыть EditProfilePopup\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  // Открыть AddPlacePopup\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  // Открыть увеличенное фото\n  function handleCardClick({ link, name }) {\n    setSelectedCard({ isImageOpen: true, link, name});\n  }\n\n  // Закрыть все попапы\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setConfirmPopupOpen(false);\n    setInfoTooltipOpen(false);\n    setSelectedCard({\n      isImageOpen: false,\n      link: '',\n      name: '',\n    });\n  }\n  // Вход\n  function handleLogin(email, password) {\n    auth\n      .authorization(email, password)\n      .then(({ token }) => {\n        if (token) {\n          localStorage.setItem('jwt', token);\n          setLoggedIn(true);\n          getUserInfo(token);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setInfoTooltipOpen(true);\n        setStatus(false);\n      });\n  }\n  // Выход\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n  }\n  // Регистрация\n  function handleRegister(email, password) {\n    auth\n      .register(email, password)\n      .then((res) => {\n        if (res) {\n          setInfoTooltipOpen(true);\n          setStatus(true);\n          history.push('/signin');\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        setInfoTooltipOpen(true);\n        setStatus(false);\n      });\n  }\n\n  function showMenu() {\n    if (isShowMenu === 'menu-mobile_type_close') {\n      setIsShowMenu('menu-mobile_type_open');\n    } else {\n      setIsShowMenu('menu-mobile_type_close');\n    }\n\n    if (classHeaderMenu === 'header__menu_type_opened') {\n      setClassHeaderMenu('header__menu_type_closed');\n    } else {\n      setClassHeaderMenu('header__menu_type_opened');\n    }\n  }\n\n  // закрытие по esc\n  function handleEsc(evt) {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleEsc);\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  });\n\n  return (\n    <CurrentUserContext.Provider value={currentUser} >\n      {loggedIn && (\n        <MenuMobile loggedOut={handleLogout} isShowMenu={isShowMenu} />\n      )}\n      <Header\n        loggedIn={loggedIn}\n        locaction={location}\n        showMenu={showMenu}\n        classHeaderMenu={classHeaderMenu}\n        loggedOut={handleLogout}\n      />\n      <Switch>\n        {isSiteLoading ? (\n          <Preloader />\n        ) : (\n          <ProtectedRoute\n            exact\n            path='/'\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n        )}\n        <Route path='/signin'>\n          <Login handleLogin={handleLogin} />\n        </Route>\n        <Route path='/signup'>\n          <Register handleRegister={handleRegister} />\n        </Route>\n      </Switch>\n      <Footer />\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        isLoading={isLoading}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlace}\n        isLoading={isLoading}\n      />\n      <ConfirmPopup\n        isOpen={isConfirmPopupOpen}\n        onClose={closeAllPopups}\n        onConfirmDelete={handleConfirm}\n        isLoading={isLoading}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        isLoading={isLoading}\n      />\n      <ImagePopup image={selectedCard} onClose={closeAllPopups} />\n      <InfoTooltip\n        status={status}\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\nreportWebVitals();\n"],"sourceRoot":""}